(function(b){var a=3;try{a=parseInt(b.fn.dropdown.Constructor.VERSION,10)}catch(p){}var r={3:{buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen"},pullClass:"pull",toobarDropdowHtml:['<ul class="dropdown-menu" role="menu">',"</ul>"],toobarDropdowItemHtml:'<li role="menuitem"><label>%s</label></li>',pageDropdownHtml:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItemHtml:'<li role="menuitem" class="%s"><a href="#">%s</a></li>'},4:{buttonsClass:"secondary",iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-toggle-down",paginationSwitchUp:"fa-toggle-up",refresh:"fa-refresh",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt"},pullClass:"float",toobarDropdowHtml:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toobarDropdowItemHtml:'<label class="dropdown-item">%s</label>',pageDropdownHtml:['<div class="dropdown-menu">',"</div>"],pageDropdownItemHtml:'<a class="dropdown-item %s" href="#">%s</a>'}}[a];var j=null;var i=function(v){var t=arguments,e=true,u=1;v=v.replace(/%s/g,function(){var w=t[u++];if(typeof w==="undefined"){e=false;return""}return w});return e?v:""};var f=function(u,w,v,t){var e="";b.each(u,function(x,y){if(y[w]===t){e=y[v];return false}return true});return e};var g=function(u){var y,x,w,A=0,B=[];for(y=0;y<u[0].length;y++){A+=u[0][y].colspan||1}for(y=0;y<u.length;y++){B[y]=[];for(x=0;x<A;x++){B[y][x]=false}}for(y=0;y<u.length;y++){for(x=0;x<u[y].length;x++){var e=u[y][x],v=e.rowspan||1,t=e.colspan||1,z=b.inArray(false,B[y]);if(t===1){e.fieldIndex=z;if(typeof e.field==="undefined"){e.field=z}}for(w=0;w<v;w++){B[y+w][z]=true}for(w=0;w<t;w++){B[y][z+w]=true}}}};var h=function(){if(j===null){var u=b("<p/>").addClass("fixed-table-scroll-inner"),v=b("<div/>").addClass("fixed-table-scroll-outer"),t,e;v.append(u);b("body").append(v);t=u[0].offsetWidth;v.css("overflow","scroll");e=u[0].offsetWidth;if(t===e){e=v[0].clientWidth}v.remove();j=t-e}return j};var n=function(t,v,u,e){var w=v;if(typeof v==="string"){var x=v.split(".");if(x.length>1){w=window;b.each(x,function(y,z){w=w[z]})}else{w=window[v]}}if(typeof w==="object"){return w}if(typeof w==="function"){return w.apply(t,u||[])}if(!w&&typeof v==="string"&&i.apply(this,[v].concat(u))){return i.apply(this,[v].concat(u))}return e};var l=function(t,e,x){var z=Object.getOwnPropertyNames||function(C){var A=[];for(var B in C){if(C.hasOwnProperty(B)){A.push(B)}}return A};var y=z(t),v=z(e),w="";if(x){if(y.length!==v.length){return false}}for(var u=0;u<y.length;u++){w=y[u];if(b.inArray(w,v)>-1){if(t[w]!==e[w]){return false}}}return true};var m=function(e){if(typeof e==="string"){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;")}return e};var c=function(u){for(var e in u){var t=e.split(/(?=[A-Z])/).join("-").toLowerCase();if(t!==e){u[t]=u[e];delete u[e]}}return u};var q=function(u,x,t){var v=u;if(typeof x!=="string"||u.hasOwnProperty(x)){return t?m(u[x]):u[x]}var e=x.split(".");for(var w in e){if(e.hasOwnProperty(w)){v=v&&v[e[w]]}}return t?m(v):v};var o=function(){return !!(navigator.userAgent.indexOf("MSIE ")>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))};var s=function(){if(!Object.keys){Object.keys=(function(){var u=Object.prototype.hasOwnProperty,v=!({toString:null}).propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=t.length;return function(y){if(typeof y!=="object"&&(typeof y!=="function"||y===null)){throw new TypeError("Object.keys called on non-object")}var w=[],z,x;for(z in y){if(u.call(y,z)){w.push(z)}}if(v){for(x=0;x<e;x++){if(u.call(y,t[x])){w.push(t[x])}}}return w}}())}};var k=function(t,e){this.options=e;this.$el=b(t);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()};k.DEFAULTS={classes:"table table-hover",sortClass:undefined,locale:undefined,height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",sortStable:false,rememberOrder:false,striped:false,columns:[[]],data:[],totalField:"total",dataField:"rows",method:"get",url:undefined,ajax:undefined,cache:true,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(e){return e},queryParamsType:"limit",responseHandler:function(e){return e},pagination:false,onlyInfoPagination:false,paginationLoop:true,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:false,searchOnEnterKey:false,strictSearch:false,searchAlign:"right",selectItemName:"btSelectItem",showHeader:true,showFooter:false,showColumns:false,showPaginationSwitch:false,showRefresh:false,showToggle:false,showFullscreen:false,smartDisplay:true,escape:false,minimumCountColumns:1,idField:undefined,uniqueId:undefined,cardView:false,detailView:false,detailFormatter:function(e,t){return""},detailFilter:function(e,t){return true},trimOnSearch:true,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"left",toolbarEx:undefined,toolbarExAlign:"right",buttonsToolbar:undefined,buttonsAlign:"right",checkboxHeader:true,sortable:true,silentSort:true,maintainSelected:false,searchTimeOut:500,searchText:"",iconSize:undefined,buttonsClass:r.buttonsClass,iconsPrefix:r.iconsPrefix,icons:r.icons,customSearch:b.noop,customSort:b.noop,ignoreClickToSelectOn:function(e){return b.inArray(e.tagName,["A","BUTTON"])},rowStyle:function(t,e){return{}},rowAttributes:function(t,e){return{}},footerStyle:function(t,e){return{}},onAll:function(t,e){return false},onClickCell:function(u,t,v,e){return false},onDblClickCell:function(u,t,v,e){return false},onClickRow:function(t,e){return false},onDblClickRow:function(t,e){return false},onSort:function(t,e){return false},onCheck:function(e){return false},onUncheck:function(e){return false},onCheckAll:function(e){return false},onUncheckAll:function(e){return false},onCheckSome:function(e){return false},onUncheckSome:function(e){return false},onLoadSuccess:function(e){return false},onLoadError:function(e){return false},onColumnSwitch:function(t,e){return false},onPageChange:function(t,e){return false},onSearch:function(e){return false},onToggle:function(e){return false},onPreBody:function(e){return false},onPostBody:function(){return false},onPostHeader:function(){return false},onExpandRow:function(e,u,t){return false},onCollapseRow:function(e,t){return false},onRefreshOptions:function(e){return false},onRefresh:function(e){return false},onResetView:function(){return false},onScrollBody:function(){return false}};k.LOCALES={};k.LOCALES["en-US"]=k.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(e){return i("%s rows per page",e)},formatShowingRows:function(u,e,t){return i("Showing %s to %s of %s rows",u,e,t)},formatDetailPagination:function(e){return i("Showing %s rows",e)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatFullscreen:function(){return"Fullscreen"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}};b.extend(k.DEFAULTS,k.LOCALES["en-US"]);k.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,titleTooltip:undefined,"class":undefined,align:undefined,halign:undefined,falign:undefined,valign:undefined,width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,sortName:undefined,cellStyle:undefined,searchable:true,searchFormatter:true,cardVisible:true,escape:false,showSelectTitle:false};k.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody"};k.prototype.init=function(){this.initLocale();this.initContainer();this.initTable();this.initHeader();this.initData();this.initHiddenRows();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initSearchText();this.initServer()};k.prototype.initLocale=function(){if(this.options.locale){var e=this.options.locale.split(/-|_/);e[0].toLowerCase();if(e[1]){e[1].toUpperCase()}if(b.fn.bootstrapTable.locales[this.options.locale]){b.extend(this.options,b.fn.bootstrapTable.locales[this.options.locale])}else{if(b.fn.bootstrapTable.locales[e.join("-")]){b.extend(this.options,b.fn.bootstrapTable.locales[e.join("-")])}else{if(b.fn.bootstrapTable.locales[e[0]]){b.extend(this.options,b.fn.bootstrapTable.locales[e[0]])}}}}};k.prototype.initContainer=function(){this.$container=b(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"</div>",this.options.paginationVAlign==="bottom"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination"></div>':"","</div>"].join(""));this.$container.insertAfter(this.$el);this.$tableContainer=this.$container.find(".fixed-table-container");this.$tableHeader=this.$container.find(".fixed-table-header");this.$tableBody=this.$container.find(".fixed-table-body");this.$tableLoading=this.$container.find(".fixed-table-loading");this.$tableFooter=this.$container.find(".fixed-table-footer");if(this.options.buttonsToolbar){this.$toolbar=b("body").find(this.options.buttonsToolbar)}else{this.$toolbar=this.$container.find(".fixed-table-toolbar")}this.$pagination=this.$container.find(".fixed-table-pagination");this.$tableBody.append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}if(b.inArray("table-no-bordered",this.options.classes.split(" "))!==-1){this.$tableContainer.addClass("table-no-bordered")}};k.prototype.initTable=function(){var u=this,t=[],v=[];this.$header=this.$el.find(">thead");if(!this.$header.length){this.$header=b("<thead></thead>").appendTo(this.$el)}this.$header.find("tr").each(function(){var w=[];b(this).find("th").each(function(){if(typeof b(this).data("field")!=="undefined"){b(this).data("field",b(this).data("field")+"")}w.push(b.extend({},{title:b(this).html(),"class":b(this).attr("class"),titleTooltip:b(this).attr("title"),rowspan:b(this).attr("rowspan")?+b(this).attr("rowspan"):undefined,colspan:b(this).attr("colspan")?+b(this).attr("colspan"):undefined},b(this).data()))});t.push(w)});if(!b.isArray(this.options.columns[0])){this.options.columns=[this.options.columns]}this.options.columns=b.extend(true,[],t,this.options.columns);this.columns=[];this.fieldsColumnsIndex=[];g(this.options.columns);b.each(this.options.columns,function(x,w){b.each(w,function(y,z){z=b.extend({},k.COLUMN_DEFAULTS,z);if(typeof z.fieldIndex!=="undefined"){u.columns[z.fieldIndex]=z;u.fieldsColumnsIndex[z.field]=z.fieldIndex}u.options.columns[x][y]=z})});if(this.options.data.length){return}var e=[];this.$el.find(">tbody>tr").each(function(x){var w={};w._id=b(this).attr("id");w._class=b(this).attr("class");w._data=c(b(this).data());b(this).find(">td").each(function(z){var E=b(this),B=+E.attr("colspan")||1,C=+E.attr("rowspan")||1,A,y;for(;e[x]&&e[x][z];z++){}for(A=z;A<z+B;A++){for(y=x;y<x+C;y++){if(!e[y]){e[y]=[]}e[y][A]=true}}var D=u.columns[z].field;w[D]=b(this).html();w["_"+D+"_id"]=b(this).attr("id");w["_"+D+"_class"]=b(this).attr("class");w["_"+D+"_rowspan"]=b(this).attr("rowspan");w["_"+D+"_colspan"]=b(this).attr("colspan");w["_"+D+"_title"]=b(this).attr("title");w["_"+D+"_data"]=c(b(this).data())});v.push(w)});this.options.data=v;if(v.length){this.fromHtml=true}};k.prototype.initHeader=function(){var u=this,e={},t=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]};b.each(this.options.columns,function(w,v){t.push("<tr>");if(w===0&&!u.options.cardView&&u.options.detailView){t.push(i('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',u.options.columns.length))}b.each(v,function(C,B){var H="",D="",F="",x="",E=i(' class="%s"',B["class"]),A=u.options.sortOrder||B.order,z="px",y=B.width;if(B.width!==undefined&&(!u.options.cardView)){if(typeof B.width==="string"){if(B.width.indexOf("%")!==-1){z="%"}}}if(B.width&&typeof B.width==="string"){y=B.width.replace("%","").replace("px","")}D=i("text-align: %s; ",B.halign?B.halign:B.align);F=i("text-align: %s; ",B.align);x=i("vertical-align: %s; ",B.valign);x+=i("width: %s; ",(B.checkbox||B.radio)&&!y?(!B.showSelectTitle?"36px":undefined):(y?y+z:undefined));if(typeof B.fieldIndex!=="undefined"){u.header.fields[B.fieldIndex]=B.field;u.header.styles[B.fieldIndex]=F+x;u.header.classes[B.fieldIndex]=E;u.header.formatters[B.fieldIndex]=B.formatter;u.header.events[B.fieldIndex]=B.events;u.header.sorters[B.fieldIndex]=B.sorter;u.header.sortNames[B.fieldIndex]=B.sortName;u.header.cellStyles[B.fieldIndex]=B.cellStyle;u.header.searchables[B.fieldIndex]=B.searchable;if(!B.visible){return}if(u.options.cardView&&(!B.cardVisible)){return}e[B.field]=B}t.push("<th"+i(' title="%s"',B.titleTooltip),B.checkbox||B.radio?i(' class="bs-checkbox %s"',B["class"]||""):E,i(' style="%s"',D+x),i(' rowspan="%s"',B.rowspan),i(' colspan="%s"',B.colspan),i(' data-field="%s"',B.field),C===0&&B.fieldIndex?" data-not-first-th":"",">");t.push(i('<div class="th-inner %s">',u.options.sortable&&B.sortable?"sortable both":""));H=u.options.escape?m(B.title):B.title;var G=H;if(B.checkbox){H="";if(!u.options.singleSelect&&u.options.checkboxHeader){H='<input name="btSelectAll" type="checkbox" />'}u.header.stateField=B.field}if(B.radio){H="";u.header.stateField=B.field;u.options.singleSelect=true}if(!H&&B.showSelectTitle){H+=G}t.push(H);t.push("</div>");t.push('<div class="fht-cell"></div>');t.push("</div>");t.push("</th>")});t.push("</tr>")});this.$header.html(t.join(""));this.$header.find("th[data-field]").each(function(v){b(this).data(e[b(this).data("field")])});this.$container.off("click",".th-inner").on("click",".th-inner",function(v){var w=b(this);if(u.options.detailView&&!w.parent().hasClass("bs-checkbox")){if(w.closest(".bootstrap-table")[0]!==u.$container[0]){return false}}if(u.options.sortable&&w.parent().data().sortable){u.onSort(v)}});this.$header.children().children().off("keypress").on("keypress",function(w){if(u.options.sortable&&b(this).data().sortable){var v=w.keyCode||w.which;if(v==13){u.onSort(w)}}});b(window).off("resize.bootstrap-table");if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$tableHeader.hide();this.$tableLoading.css("top",0)}else{this.$header.show();this.$tableHeader.show();this.$tableLoading.css("top",this.$header.outerHeight()+1);this.getCaret();b(window).on("resize.bootstrap-table",b.proxy(this.resetWidth,this))}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$selectAll.off("click").on("click",function(){var v=b(this).prop("checked");u[v?"checkAll":"uncheckAll"]();u.updateSelected()})};k.prototype.initFooter=function(){if(!this.options.showFooter||this.options.cardView){this.$tableFooter.hide()}else{this.$tableFooter.show()}};k.prototype.initData=function(t,e){if(e==="append"){this.options.data=this.options.data.concat(t)}else{if(e==="prepend"){this.options.data=[].concat(t).concat(this.options.data)}else{this.options.data=t||this.options.data}}this.data=this.options.data;if(this.options.sidePagination==="server"){return}this.initSort()};k.prototype.initSort=function(){var v=this,u=this.options.sortName,e=this.options.sortOrder==="desc"?-1:1,t=b.inArray(this.options.sortName,this.header.fields),w=0;if(this.options.customSort!==b.noop){this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]);return}if(t!==-1){if(this.options.sortStable){b.each(this.data,function(x,y){y._position=x})}this.data.sort(function(y,x){if(v.header.sortNames[t]){u=v.header.sortNames[t]}var A=q(y,u,v.options.escape),B=q(x,u,v.options.escape),z=n(v.header,v.header.sorters[t],[A,B,y,x]);if(z!==undefined){if(v.options.sortStable&&z===0){return y._position-x._position}return e*z}if(A===undefined||A===null){A=""}if(B===undefined||B===null){B=""}if(v.options.sortStable&&A===B){A=y._position;B=x._position;return y._position-x._position}if(b.isNumeric(A)&&b.isNumeric(B)){A=parseFloat(A);B=parseFloat(B);if(A<B){return e*-1}return e}if(A===B){return 0}if(typeof A!=="string"){A=A.toString()}if(A.localeCompare(B)===-1){return e*-1}return e});if(this.options.sortClass!==undefined){clearTimeout(w);w=setTimeout(function(){v.$el.removeClass(v.options.sortClass);var x=v.$header.find(i('[data-field="%s"]',v.options.sortName).index()+1);v.$el.find(i("tr td:nth-child(%s)",x)).addClass(v.options.sortClass)},250)}}};k.prototype.onSort=function(e){var u=e.type==="keypress"?b(e.currentTarget):b(e.currentTarget).parent(),t=this.$header.find("th").eq(u.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===u.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=u.data("field");if(this.options.rememberOrder){this.options.sortOrder=u.data("order")==="asc"?"desc":"asc"}else{this.options.sortOrder=this.columns[this.fieldsColumnsIndex[u.data("field")]].order}}this.trigger("sort",this.options.sortName,this.options.sortOrder);u.add(t).data("order",this.options.sortOrder);this.getCaret();if(this.options.sidePagination==="server"){this.initServer(this.options.silentSort);return}this.initSort();this.initBody()};k.prototype.initToolbar=function(){var v=this,u=[],x=0,t,w,e=0;if(this.$toolbar.find(".bs-bars").children().length){b("body").append(b(this.options.toolbar))}this.$toolbar.html("");if(typeof this.options.toolbar==="string"||typeof this.options.toolbar==="object"){b(i('<div class="bs-bars %s-%s"></div>',r.pullClass,this.options.toolbarAlign)).appendTo(this.$toolbar).append(b(this.options.toolbar))}if(typeof this.options.toolbarEx==="string"||typeof this.options.toolbarEx==="object"){b(i('<div class="bs-bars %s-%s"></div>',r.pullClass,this.options.toolbarExAlign)).appendTo(this.$toolbar).append(b(this.options.toolbarEx))}u=[i('<div class="columns columns-%s btn-group %s-%s">',this.options.buttonsAlign,r.pullClass,this.options.buttonsAlign)];if(typeof this.options.icons==="string"){this.options.icons=n(null,this.options.icons)}if(this.options.showPaginationSwitch){u.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>")}if(this.options.showFullscreen){this.$toolbar.find('button[name="fullscreen"]').off("click").on("click",b.proxy(this.toggleFullscreen,this))}if(this.options.showRefresh){u.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){u.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showFullscreen){u.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="fullscreen" aria-label="fullscreen" title="%s">',this.options.formatFullscreen()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.fullscreen),"</button>")}if(this.options.showColumns){u.push(i('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",r.toobarDropdowHtml[0]);b.each(this.columns,function(y,z){if(z.radio||z.checkbox){return}if(v.options.cardView&&!z.cardVisible){return}var A=z.visible?' checked="checked"':"";if(z.switchable){u.push(i(r.toobarDropdowItemHtml,i('<input type="checkbox" data-field="%s" value="%s"%s> %s',z.field,y,A,z.title)));e++}});u.push(r.toobarDropdowHtml[1],"</div>")}u.push("</div>");if(this.showToolbar||u.length>2){this.$toolbar.append(u.join(""))}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",b.proxy(this.togglePagination,this))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",b.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){v.toggleView()})}if(this.options.showColumns){t=this.$toolbar.find(".keep-open");if(e<=this.options.minimumCountColumns){t.find("input").prop("disabled",true)}t.find("li").off("click").on("click",function(y){y.stopImmediatePropagation()});t.find("input").off("click").on("click",function(){var y=b(this);v.toggleColumn(b(this).val(),y.prop("checked"),false);v.trigger("column-switch",b(this).data("field"),y.prop("checked"))})}if(this.options.search){u=[];u.push(i('<div class="%s-%s search">',r.pullClass,this.options.searchAlign),i('<input class="form-control'+i(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>");this.$toolbar.append(u.join(""));w=this.$toolbar.find(".search input");w.off("keyup drop blur").on("keyup drop blur",function(y){if(v.options.searchOnEnterKey&&y.keyCode!==13){return}if(b.inArray(y.keyCode,[37,38,39,40])>-1){return}clearTimeout(x);x=setTimeout(function(){v.onSearch(y)},v.options.searchTimeOut)});if(o()){w.off("mouseup").on("mouseup",function(y){clearTimeout(x);x=setTimeout(function(){v.onSearch(y)},v.options.searchTimeOut)})}}};k.prototype.onSearch=function(e){var t=b.trim(b(e.currentTarget).val());if(this.options.trimOnSearch&&b(e.currentTarget).val()!==t){b(e.currentTarget).val(t)}if(t===this.searchText){return}this.searchText=t;this.options.searchText=t;this.options.pageNumber=1;this.initSearch();if(e.firedByInitSearchText){if(this.options.sidePagination==="client"){this.updatePagination()}}else{this.updatePagination()}this.trigger("search",t)};k.prototype.initSearch=function(){var t=this;if(this.options.sidePagination!=="server"){if(this.options.customSearch!==b.noop){window[this.options.customSearch].apply(this,[this.searchText]);return}var e=this.searchText&&(this.options.escape?m(this.searchText):this.searchText).toLowerCase();var u=b.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=u?b.grep(this.options.data,function(x,w){for(var v in u){if(b.isArray(u[v])&&b.inArray(x[v],u[v])===-1||!b.isArray(u[v])&&x[v]!==u[v]){return false}}return true}):this.options.data;this.data=e?b.grep(this.data,function(B,y){for(var w=0;w<t.header.fields.length;w++){if(!t.header.searchables[w]){continue}var x=b.isNumeric(t.header.fields[w])?parseInt(t.header.fields[w],10):t.header.fields[w];var A=t.columns[t.fieldsColumnsIndex[x]];var C;if(typeof x==="string"){C=B;var z=x.split(".");for(var v=0;v<z.length;v++){if(C[z[v]]!=null){C=C[z[v]]}}if(A&&A.searchFormatter){C=n(A,t.header.formatters[w],[C,B,y],C)}}else{C=B[x]}if(typeof C==="string"||typeof C==="number"){if(t.options.strictSearch){if((C+"").toLowerCase()===e){return true}}else{if((C+"").toLowerCase().indexOf(e)!==-1){return true}}}}return false}):this.data}};k.prototype.initPagination=function(){if(!this.options.pagination){this.$pagination.hide();return}else{this.$pagination.show()}var x=this,w=[],A=false,v,C,D,G,F,t,E,u=this.getData(),e=this.options.pageList;if(this.options.sidePagination!=="server"){this.options.totalRows=u.length}this.totalPages=0;if(this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows()){this.options.pageSize=this.options.totalRows;A=true}else{if(this.options.pageSize===this.options.totalRows){var z=typeof this.options.pageList==="string"?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;if(b.inArray(this.options.formatAllRows().toLowerCase(),z)>-1){A=true}}}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1;this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}w.push(i('<div class="%s-%s pagination-detail">',r.pullClass,this.options.paginationDetailHAlign),'<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");if(!this.options.onlyInfoPagination){w.push('<span class="page-list">');var B=[i('<span class="btn-group %s">',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?"dropdown":"dropup"),'<button type="button" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',A?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",r.pageDropdownHtml[0]];if(typeof this.options.pageList==="string"){var y=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");e=[];b.each(y,function(H,I){e.push((I.toUpperCase()===x.options.formatAllRows().toUpperCase()||I.toUpperCase()==="UNLIMITED")?x.options.formatAllRows():+I)})}b.each(e,function(H,I){if(!x.options.smartDisplay||H===0||e[H-1]<x.options.totalRows){var J;if(A){J=I===x.options.formatAllRows()?"active":""}else{J=I===x.options.pageSize?"active":""}B.push(i(r.pageDropdownItemHtml,J,I))}});B.push(r.pageDropdownHtml[1]+"</span>");w.push(this.options.formatRecordsPerPage(B.join("")));w.push("</span>");w.push("</div>",i('<div class="%s-%s pagination">',r.pullClass,this.options.paginationHAlign),'<ul class="pagination'+i(" pagination-%s",this.options.iconSize)+'">',i('<li class="page-item page-pre"><a class="page-link" href="#">%s</a></li>',this.options.paginationPreText));if(this.totalPages<5){C=1;D=this.totalPages}else{C=this.options.pageNumber-2;D=C+4;if(C<1){C=1;D=5}if(D>this.totalPages){D=this.totalPages;C=D-4}}if(this.totalPages>=6){if(this.options.pageNumber>=3){w.push(i('<li class="page-item page-first%s">',1===this.options.pageNumber?" active":""),'<a class="page-link" href="#">',1,"</a>","</li>");C++}if(this.options.pageNumber>=4){if(this.options.pageNumber==4||this.totalPages==6||this.totalPages==7){C--}else{w.push('<li class="page-item page-first-separator disabled">','<a class="page-link" href="#">...</a>',"</li>")}D--}}if(this.totalPages>=7){if(this.options.pageNumber>=(this.totalPages-2)){C--}}if(this.totalPages==6){if(this.options.pageNumber>=(this.totalPages-2)){D++}}else{if(this.totalPages>=7){if(this.totalPages==7||this.options.pageNumber>=(this.totalPages-3)){D++}}}for(v=C;v<=D;v++){w.push(i('<li class="page-item%s">',v===this.options.pageNumber?" active":""),'<a class="page-link" href="#">',v,"</a>","</li>")}if(this.totalPages>=8){if(this.options.pageNumber<=(this.totalPages-4)){w.push('<li class="page-item page-last-separator disabled">','<a class="page-link" href="#">...</a>',"</li>")}}if(this.totalPages>=6){if(this.options.pageNumber<=(this.totalPages-3)){w.push(i('<li class="page-item page-last%s">',this.totalPages===this.options.pageNumber?" active":""),'<a class="page-link" href="#">',this.totalPages,"</a>","</li>")}}w.push(i('<li class="page-item page-next"><a class="page-link" href="#">%s</a></li>',this.options.paginationNextText),"</ul>","</div>")}this.$pagination.html(w.join(""));if(!this.options.onlyInfoPagination){G=this.$pagination.find(".page-list a");F=this.$pagination.find(".page-pre");t=this.$pagination.find(".page-next");E=this.$pagination.find(".page-item").not(".page-next, .page-pre");if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(e.length<2||this.options.totalRows<=e[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}if(!this.options.paginationLoop){if(this.options.pageNumber===1){F.addClass("disabled")}if(this.options.pageNumber===this.totalPages){t.addClass("disabled")}}if(A){this.options.pageSize=this.options.formatAllRows()}G.off("click").on("click",b.proxy(this.onPageListChange,this));F.off("click").on("click",b.proxy(this.onPagePre,this));t.off("click").on("click",b.proxy(this.onPageNext,this));E.off("click").on("click",b.proxy(this.onPageNumber,this))}};k.prototype.updatePagination=function(e){if(e&&b(e.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageNumber,this.options.pageSize)};k.prototype.onPageListChange=function(e){e.preventDefault();var t=b(e.currentTarget);t.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=t.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+t.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(e);return false};k.prototype.onPagePre=function(e){e.preventDefault();if((this.options.pageNumber-1)===0){this.options.pageNumber=this.options.totalPages}else{this.options.pageNumber--}this.updatePagination(e);return false};k.prototype.onPageNext=function(e){e.preventDefault();if((this.options.pageNumber+1)>this.options.totalPages){this.options.pageNumber=1}else{this.options.pageNumber++}this.updatePagination(e);return false};k.prototype.onPageNumber=function(e){e.preventDefault();if(this.options.pageNumber===+b(e.currentTarget).text()){return}this.options.pageNumber=+b(e.currentTarget).text();this.updatePagination(e);return false};k.prototype.initRow=function(D,y,x,v){var A=this,C,z=[],e={},t=[],u="",w={},B=[];if(b.inArray(D,this.hiddenRows)>-1){return}e=n(this.options,this.options.rowStyle,[D,y],e);if(e&&e.css){for(C in e.css){t.push(C+": "+e.css[C])}}w=n(this.options,this.options.rowAttributes,[D,y],w);if(w){for(C in w){B.push(i('%s="%s"',C,m(w[C])))}}if(D._data&&!b.isEmptyObject(D._data)){b.each(D._data,function(F,E){if(F==="index"){return}u+=i(' data-%s="%s"',F,E)})}z.push("<tr",i(" %s",B.join(" ")),i(' id="%s"',b.isArray(D)?undefined:D._id),i(' class="%s"',e.classes||(b.isArray(D)?undefined:D._class)),i(' data-index="%s"',y),i(' data-uniqueid="%s"',D[this.options.uniqueId]),i("%s",u),">");if(this.options.cardView){z.push(i('<td colspan="%s"><div class="card-views">',this.header.fields.length))}if(!this.options.cardView&&this.options.detailView){z.push("<td>");if(n(null,this.options.detailFilter,[y,D])){z.push('<a class="detail-icon" href="#">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>")}z.push("</td>")}b.each(this.header.fields,function(J,N){var R="",M=q(D,N,A.options.escape),O="",L="",F={},S="",K=A.header.classes[J],H="",Q="",T="",I="",G=A.columns[J];if(A.fromHtml&&typeof M==="undefined"){if((!G.checkbox)&&(!G.radio)){return}}if(!G.visible){return}if(A.options.cardView&&(!G.cardVisible)){return}if(G.escape){M=m(M)}e=i('style="%s"',t.concat(A.header.styles[J]).join("; "));if(D["_"+N+"_id"]){S=i(' id="%s"',D["_"+N+"_id"])}if(D["_"+N+"_class"]){K=i(' class="%s"',D["_"+N+"_class"])}if(D["_"+N+"_rowspan"]){Q=i(' rowspan="%s"',D["_"+N+"_rowspan"])}if(D["_"+N+"_colspan"]){T=i(' colspan="%s"',D["_"+N+"_colspan"])}if(D["_"+N+"_title"]){I=i(' title="%s"',D["_"+N+"_title"])}F=n(A.header,A.header.cellStyles[J],[M,D,y,N],F);if(F.classes){K=i(' class="%s"',F.classes)}if(F.css){var E=[];for(var P in F.css){E.push(P+": "+F.css[P])}e=i('style="%s"',E.concat(A.header.styles[J]).join("; "))}O=n(G,A.header.formatters[J],[M,D,y,N],M);if(D["_"+N+"_data"]&&!b.isEmptyObject(D["_"+N+"_data"])){b.each(D["_"+N+"_data"],function(V,U){if(V==="index"){return}H+=i(' data-%s="%s"',V,U)})}if(G.checkbox||G.radio){L=G.checkbox?"checkbox":L;L=G.radio?"radio":L;R=[i(A.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',G["class"]||""),"<input"+i(' data-index="%s"',y)+i(' name="%s"',A.options.selectItemName)+i(' type="%s"',L)+i(' value="%s"',D[A.options.idField])+i(' checked="%s"',O===true||(M||O&&O.checked)?"checked":undefined)+i(' disabled="%s"',!G.checkboxEnabled||(O&&O.disabled)?"disabled":undefined)+" />",A.header.formatters[J]&&typeof O==="string"?O:"",A.options.cardView?"</div>":"</td>"].join("");D[A.header.stateField]=O===true||(!!M||O&&O.checked)}else{O=typeof O==="undefined"||O===null?A.options.undefinedText:O;R=A.options.cardView?['<div class="card-view">',A.options.showHeader?i('<span class="title" %s>%s</span>',e,f(A.columns,"field","title",N)):"",i('<span class="value">%s</span>',O),"</div>"].join(""):[i("<td%s %s %s %s %s %s %s>",S,K,e,H,Q,T,I),O,"</td>"].join("");if(A.options.cardView&&A.options.smartDisplay&&O===""){R='<div class="card-view"></div>'}}z.push(R)});if(this.options.cardView){z.push("</div></td>")}z.push("</tr>");return z.join(" ")};k.prototype.initBody=function(v){var y=this,w=[],t=this.getData();this.trigger("pre-body",t);this.$body=this.$el.find(">tbody");if(!this.$body.length){this.$body=b("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=t.length}var e=b(document.createDocumentFragment());var x;for(var u=this.pageFrom-1;u<this.pageTo;u++){var A=t[u];var z=this.initRow(A,u,t,e);x=x||!!z;if(z&&z!==true){e.append(z)}}if(!x){e.append('<tr class="no-records-found">'+i('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>")}this.$body.html(e);if(!v){this.scrollTo(0)}this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(H){var B=b(this),D=B.parent(),K=y.data[D.data("index")],F=B[0].cellIndex,E=y.getVisibleFields(),I=E[y.options.detailView&&!y.options.cardView?F-1:F],C=y.columns[y.fieldsColumnsIndex[I]],J=q(K,I,y.options.escape);if(B.find(".detail-icon").length){return}y.trigger(H.type==="click"?"click-cell":"dbl-click-cell",I,J,K,B);y.trigger(H.type==="click"?"click-row":"dbl-click-row",K,D,I);if(H.type==="click"&&y.options.clickToSelect&&C.clickToSelect&&y.options.ignoreClickToSelectOn(H.target)){var G=D.find(i('[name="%s"]',y.options.selectItemName));if(G.length){G[0].click()}}});this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(G){G.preventDefault();var F=b(this),E=F.parent().parent(),C=E.data("index"),H=t[C];if(E.next().is("tr.detail-view")){F.find("i").attr("class",i("%s %s",y.options.iconsPrefix,y.options.icons.detailOpen));y.trigger("collapse-row",C,H,E.next());E.next().remove()}else{F.find("i").attr("class",i("%s %s",y.options.iconsPrefix,y.options.icons.detailClose));E.after(i('<tr class="detail-view"><td colspan="%s"></td></tr>',E.find("td").length));var B=E.next().find("td");var D=n(y.options,y.options.detailFormatter,[C,H,B],"");if(B.length===1){B.append(D)}y.trigger("expand-row",C,H,B)}y.resetView();return false});this.$selectItem=this.$body.find(i('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(C){C.stopImmediatePropagation();var D=b(this),B=D.prop("checked"),E=y.data[D.data("index")];if(b(this).is(":radio")||y.options.singleSelect){b.each(y.options.data,function(F,G){G[y.header.stateField]=false})}E[y.header.stateField]=B;if(y.options.singleSelect){y.$selectItem.not(this).each(function(){y.data[b(this).data("index")][y.header.stateField]=false});y.$selectItem.filter(":checked").not(this).prop("checked",false)}y.updateSelected();y.trigger(B?"check":"uncheck",E,D)});b.each(this.header.events,function(E,D){if(!D){return}if(typeof D==="string"){D=n(null,D)}var F=y.header.fields[E],B=b.inArray(F,y.getVisibleFields());if(B===-1){return}if(y.options.detailView&&!y.options.cardView){B+=1}for(var C in D){y.$body.find(">tr:not(.no-records-found)").each(function(){var K=b(this),L=K.find(y.options.cardView?".card-view":"td").eq(B),H=C.indexOf(" "),G=C.substring(0,H),I=C.substring(H+1),J=D[C];L.find(I).off(G).on(G,function(O){var M=K.data("index"),P=y.data[M],N=P[F];J.apply(this,[O,N,P,M])})})}});this.updateSelected();this.resetView();this.trigger("post-body",t)};k.prototype.initServer=function(e,y,u){var w=this,x={},t=b.inArray(this.options.sortName,this.header.fields),z={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder},v;if(this.header.sortNames[t]){z.sortName=this.header.sortNames[t]}if(this.options.pagination&&this.options.sidePagination==="server"){z.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;z.pageNumber=this.options.pageNumber}if(!(u||this.options.url)&&!this.options.ajax){return}if(this.options.queryParamsType==="limit"){z={search:z.searchText,sort:z.sortName,order:z.sortOrder};if(this.options.pagination&&this.options.sidePagination==="server"){z.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1);z.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;if(z.limit===0){delete z.limit}}}if(!(b.isEmptyObject(this.filterColumnsPartial))){z.filter=JSON.stringify(this.filterColumnsPartial,null)}x=n(this.options,this.options.queryParams,[z],x);b.extend(x,y||{});if(x===false){return}if(!e){this.$tableLoading.show()}v=b.extend({},n(null,this.options.ajaxOptions),{type:this.options.method,url:u||this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(x):x,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(A){A=n(w.options,w.options.responseHandler,[A],A);w.load(A);w.trigger("load-success",A);if(!e){w.$tableLoading.hide()}},error:function(A){var B=[];if(w.options.sidePagination==="server"){B={};B[w.options.totalField]=0;B[w.options.dataField]=[]}w.load(B);w.trigger("load-error",A.status,A);if(!e){w.$tableLoading.hide()}}});if(this.options.ajax){n(this,this.options.ajax,[v],null)}else{if(this._xhr&&this._xhr.readyState!==4){this._xhr.abort()}this._xhr=b.ajax(v)}};k.prototype.initSearchText=function(){if(this.options.search){this.searchText="";if(this.options.searchText!==""){var e=this.$toolbar.find(".search input");e.val(this.options.searchText);this.onSearch({currentTarget:e,firedByInitSearchText:true})}}};k.prototype.getCaret=function(){var e=this;b.each(this.$header.find("th"),function(t,u){b(u).find(".sortable").removeClass("desc asc").addClass(b(u).data("field")===e.options.sortName?e.options.sortOrder:"both")})};k.prototype.updateSelected=function(){var e=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",e);this.$selectItem.each(function(){b(this).closest("tr")[b(this).prop("checked")?"addClass":"removeClass"]("selected")})};k.prototype.updateRows=function(){var e=this;this.$selectItem.each(function(){e.data[b(this).data("index")][e.header.stateField]=b(this).prop("checked")})};k.prototype.resetRows=function(){var e=this;b.each(this.data,function(t,u){e.$selectAll.prop("checked",false);e.$selectItem.prop("checked",false);if(e.header.stateField){u[e.header.stateField]=false}});this.initHiddenRows()};k.prototype.trigger=function(t){var e=Array.prototype.slice.call(arguments,1);t+=".bs.table";this.options[k.EVENTS[t]].apply(this.options,e);this.$el.trigger(b.Event(t),e);this.options.onAll(t,e);this.$el.trigger(b.Event("all.bs.table"),[t,e])};k.prototype.resetHeader=function(){clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(b.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)};k.prototype.fitHeader=function(){var u=this,v,e,y,z;if(u.$el.is(":hidden")){u.timeoutId_=setTimeout(b.proxy(u.fitHeader,u),100);return}v=this.$tableBody.get(0);e=v.scrollWidth>v.clientWidth&&v.scrollHeight>v.clientHeight+this.$header.outerHeight()?h():0;this.$el.css("margin-top",-this.$header.outerHeight());y=b(":focus");if(y.length>0){var A=y.parents("th");if(A.length>0){var B=A.attr("data-field");if(B!==undefined){var t=this.$header.find("[data-field='"+B+"']");if(t.length>0){t.find(":input").addClass("focus-temp")}}}}this.$header_=this.$header.clone(true,true);this.$selectAll_=this.$header_.find('[name="btSelectAll"]');this.$tableHeader.css({"margin-right":e}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_);z=b(".focus-temp:visible:eq(0)");if(z.length>0){z.focus();this.$header.find(".focus-temp").removeClass("focus-temp")}this.$header.find("th[data-field]").each(function(C){u.$header_.find(i('th[data-field="%s"]',b(this).data("field"))).data(b(this).data())});var x=this.getVisibleFields(),w=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(E){var G=b(this),C=E;if(u.options.detailView&&!u.options.cardView){if(E===0){u.$header_.find("th.detail").find(".fht-cell").width(G.innerWidth())}C=E-1}if(C===-1){return}var F=u.$header_.find(i('th[data-field="%s"]',x[C]));if(F.length>1){F=b(w[G[0].cellIndex])}var D=F.width()-F.find(".fht-cell").width();F.find(".fht-cell").width(G.innerWidth()-D)});this.horizontalScroll();this.trigger("post-header")};k.prototype.resetFooter=function(){var t=this,u=t.getData(),e=[];if(!this.options.showFooter||this.options.cardView){return}if(!this.options.cardView&&this.options.detailView){e.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>')}b.each(this.columns,function(y,A){var x,C="",w="",B=[],z={},v=i(' class="%s"',A["class"]);if(!A.visible){return}if(t.options.cardView&&(!A.cardVisible)){return}C=i("text-align: %s; ",A.falign?A.falign:A.align);w=i("vertical-align: %s; ",A.valign);z=n(null,t.options.footerStyle);if(z&&z.css){for(x in z.css){B.push(x+": "+z.css[x])}}e.push("<td",v,i(' style="%s"',C+w+B.concat().join("; ")),">");e.push('<div class="th-inner">');e.push(n(A,A.footerFormatter,[u],"&nbsp;")||"&nbsp;");e.push("</div>");e.push('<div class="fht-cell"></div>');e.push("</div>");e.push("</td>")});this.$tableFooter.find("tr").html(e.join(""));this.$tableFooter.show();clearTimeout(this.timeoutFooter_);this.timeoutFooter_=setTimeout(b.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)};k.prototype.fitFooter=function(){var v=this,e,u,t;clearTimeout(this.timeoutFooter_);if(this.$el.is(":hidden")){this.timeoutFooter_=setTimeout(b.proxy(this.fitFooter,this),100);return}u=this.$el.css("width");t=u>this.$tableBody.width()?h():0;this.$tableFooter.css({"margin-right":t}).find("table").css("width",u).attr("class",this.$el.attr("class"));e=this.$tableFooter.find("td");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(w){var x=b(this);e.eq(w).find(".fht-cell").width(x.innerWidth())});this.horizontalScroll()};k.prototype.horizontalScroll=function(){var e=this;e.trigger("scroll-body");this.$tableBody.off("scroll").on("scroll",function(){if(e.options.showHeader&&e.options.height){e.$tableHeader.scrollLeft(b(this).scrollLeft())}if(e.options.showFooter&&!e.options.cardView){e.$tableFooter.scrollLeft(b(this).scrollLeft())}})};k.prototype.toggleColumn=function(e,t,v){if(e===-1){return}this.columns[e].visible=t;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var u=this.$toolbar.find(".keep-open input").prop("disabled",false);if(v){u.filter(i('[value="%s"]',e)).prop("checked",t)}if(u.filter(":checked").length<=this.options.minimumCountColumns){u.filter(":checked").prop("disabled",true)}}};k.prototype.getVisibleFields=function(){var t=this,e=[];b.each(this.header.fields,function(u,w){var v=t.columns[t.fieldsColumnsIndex[w]];if(!v.visible){return}e.push(w)});return e};k.prototype.resetView=function(v){var t=0;if(v&&v.height){this.options.height=v.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var u=this.$toolbar.outerHeight(true),w=this.$pagination.outerHeight(true),e=this.options.height-u-w;this.$tableContainer.css("height",e+"px")}if(this.options.cardView){this.$el.css("margin-top","0");this.$tableContainer.css("padding-bottom","0");this.$tableFooter.hide();return}if(this.options.showHeader&&this.options.height){this.$tableHeader.show();this.resetHeader();t+=this.$header.outerHeight()}else{this.$tableHeader.hide();this.trigger("post-header")}if(this.options.showFooter){this.resetFooter();if(this.options.height){t+=this.$tableFooter.outerHeight()+1}}this.getCaret();this.$tableContainer.css("padding-bottom",t+"px");this.trigger("reset-view")};k.prototype.getData=function(t){var e=this.options.data;if(this.searchText||this.options.sortName||!b.isEmptyObject(this.filterColumns)||!b.isEmptyObject(this.filterColumnsPartial)){e=this.data}if(t){return e.slice(this.pageFrom-1,this.pageTo)}return e};k.prototype.load=function(t){var e=false;if(this.options.pagination&&this.options.sidePagination==="server"){this.options.totalRows=t[this.options.totalField];e=t.fixedScroll;t=t[this.options.dataField]}else{if(!b.isArray(t)){e=t.fixedScroll;t=t.data}}this.initData(t);this.initSearch();this.initPagination();this.initBody(e)};k.prototype.append=function(e){this.initData(e,"append");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};k.prototype.prepend=function(e){this.initData(e,"prepend");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};k.prototype.remove=function(v){var e=this.options.data.length,t,u;if(!v.hasOwnProperty("field")||!v.hasOwnProperty("values")){return}for(t=e-1;t>=0;t--){u=this.options.data[t];if(!u.hasOwnProperty(v.field)){continue}if(b.inArray(u[v.field],v.values)!==-1){this.options.data.splice(t,1);if(this.options.sidePagination==="server"){this.options.totalRows-=1}}}if(e===this.options.data.length){return}this.initSearch();this.initPagination();this.initSort();this.initBody(true)};k.prototype.removeAll=function(){if(this.options.data.length>0){this.options.data.splice(0,this.options.data.length);this.initSearch();this.initPagination();this.initBody(true)}};k.prototype.getRowByUniqueId=function(y){var x=this.options.uniqueId,e=this.options.data.length,t=null,u,w,v;for(u=e-1;u>=0;u--){w=this.options.data[u];if(w.hasOwnProperty(x)){v=w[x]}else{if(w._data.hasOwnProperty(x)){v=w._data[x]}else{continue}}if(typeof v==="string"){y=y.toString()}else{if(typeof v==="number"){if((Number(v)===v)&&(v%1===0)){y=parseInt(y)}else{if((v===Number(v))&&(v!==0)){y=parseFloat(y)}}}}if(v===y){t=w;break}}return t};k.prototype.removeByUniqueId=function(u){var e=this.options.data.length,t=this.getRowByUniqueId(u);if(t){this.options.data.splice(this.options.data.indexOf(t),1)}if(e===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};k.prototype.updateByUniqueId=function(u){var e=this;var t=b.isArray(u)?u:[u];b.each(t,function(v,x){var w;if(!x.hasOwnProperty("id")||!x.hasOwnProperty("row")){return}w=b.inArray(e.getRowByUniqueId(x.id),e.options.data);if(w===-1){return}b.extend(e.options.data[w],x.row)});this.initSearch();this.initPagination();this.initSort();this.initBody(true)};k.prototype.refreshColumnTitle=function(e){if(!e.hasOwnProperty("field")||!e.hasOwnProperty("title")){return}this.columns[this.fieldsColumnsIndex[e.field]].title=this.options.escape?m(e.title):e.title;if(this.columns[this.fieldsColumnsIndex[e.field]].visible){var t=this.options.height!==undefined?this.$tableHeader:this.$header;t.find("th[data-field]").each(function(u){if(b(this).data("field")===e.field){b(b(this).find(".th-inner")[0]).text(e.title);return false}})}};k.prototype.insertRow=function(e){if(!e.hasOwnProperty("index")||!e.hasOwnProperty("row")){return}this.options.data.splice(e.index,0,e.row);this.initSearch();this.initPagination();this.initSort();this.initBody(true)};k.prototype.updateRow=function(u){var e=this;var t=b.isArray(u)?u:[u];b.each(t,function(v,w){if(!w.hasOwnProperty("index")||!w.hasOwnProperty("row")){return}b.extend(e.options.data[w.index],w.row)});this.initSearch();this.initPagination();this.initSort();this.initBody(true)};k.prototype.initHiddenRows=function(){this.hiddenRows=[]};k.prototype.showRow=function(e){this.toggleRow(e,true)};k.prototype.hideRow=function(e){this.toggleRow(e,false)};k.prototype.toggleRow=function(v,u){var t,e;if(v.hasOwnProperty("index")){t=this.getData()[v.index]}else{if(v.hasOwnProperty("uniqueId")){t=this.getRowByUniqueId(v.uniqueId)}}if(!t){return}e=b.inArray(t,this.hiddenRows);if(!u&&e===-1){this.hiddenRows.push(t)}else{if(u&&e>-1){this.hiddenRows.splice(e,1)}}this.initBody(true)};k.prototype.getHiddenRows=function(e){var t=this,v=this.getData(),u=[];b.each(v,function(w,x){if(b.inArray(x,t.hiddenRows)>-1){u.push(x)}});this.hiddenRows=u;return u};k.prototype.mergeCells=function(A){var z=A.index,u=b.inArray(A.field,this.getVisibleFields()),v=A.rowspan||1,t=A.colspan||1,x,w,y=this.$body.find(">tr"),e;if(this.options.detailView&&!this.options.cardView){u+=1}e=y.eq(z).find(">td").eq(u);if(z<0||u<0||z>=this.data.length){return}for(x=z;x<z+v;x++){for(w=u;w<u+t;w++){y.eq(x).find(">td").eq(w).hide()}}e.attr("rowspan",v).attr("colspan",t).show()};k.prototype.updateCell=function(e){if(!e.hasOwnProperty("index")||!e.hasOwnProperty("field")||!e.hasOwnProperty("value")){return}this.data[e.index][e.field]=e.value;if(e.reinit===false){return}this.initSort();this.initBody(true)};k.prototype.updateCellById=function(u){var e=this;if(!u.hasOwnProperty("id")||!u.hasOwnProperty("field")||!u.hasOwnProperty("value")){return}var t=b.isArray(u)?u:[u];b.each(t,function(v,x){var w;w=b.inArray(e.getRowByUniqueId(x.id),e.options.data);if(w===-1){return}e.data[w][x.field]=x.value});if(u.reinit===false){return}this.initSort();this.initBody(true)};k.prototype.getOptions=function(){return b.extend(true,{},this.options)};k.prototype.getSelections=function(){var e=this;return b.grep(this.options.data,function(t){return t[e.header.stateField]===true})};k.prototype.getAllSelections=function(){var e=this;return b.grep(this.options.data,function(t){return t[e.header.stateField]})};k.prototype.checkAll=function(){this.checkAll_(true)};k.prototype.uncheckAll=function(){this.checkAll_(false)};k.prototype.checkInvert=function(){var t=this;var u=t.$selectItem.filter(":enabled");var e=u.filter(":checked");u.each(function(){b(this).prop("checked",!b(this).prop("checked"))});t.updateRows();t.updateSelected();t.trigger("uncheck-some",e);e=t.getSelections();t.trigger("check-some",e)};k.prototype.checkAll_=function(e){var t;if(!e){t=this.getSelections()}this.$selectAll.add(this.$selectAll_).prop("checked",e);this.$selectItem.filter(":enabled").prop("checked",e);this.updateRows();if(e){t=this.getSelections()}this.trigger(e?"check-all":"uncheck-all",t)};k.prototype.check=function(e){this.check_(true,e)};k.prototype.uncheck=function(e){this.check_(false,e)};k.prototype.check_=function(u,e){var t=this.$selectItem.filter(i('[data-index="%s"]',e)).prop("checked",u);this.data[e][this.header.stateField]=u;this.updateSelected();this.trigger(u?"check":"uncheck",this.data[e],t)};k.prototype.checkBy=function(e){this.checkBy_(true,e)};k.prototype.uncheckBy=function(e){this.checkBy_(false,e)};k.prototype.checkBy_=function(t,v){if(!v.hasOwnProperty("field")||!v.hasOwnProperty("values")){return}var e=this,u=[];b.each(this.options.data,function(w,y){if(!y.hasOwnProperty(v.field)){return false}if(b.inArray(y[v.field],v.values)!==-1){var x=e.$selectItem.filter(":enabled").filter(i('[data-index="%s"]',w)).prop("checked",t);y[e.header.stateField]=t;u.push(y);e.trigger(t?"check":"uncheck",y,x)}});this.updateSelected();this.trigger(t?"check-some":"uncheck-some",u)};k.prototype.destroy=function(){this.$el.insertBefore(this.$container);b(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};k.prototype.showLoading=function(){this.$tableLoading.show()};k.prototype.hideLoading=function(){this.$tableLoading.hide()};k.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var e=this.$toolbar.find('button[name="paginationSwitch"] i');if(this.options.pagination){e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown)}else{e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp)}this.updatePagination()};k.prototype.toggleFullscreen=function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen")};k.prototype.refresh=function(e){if(e&&e.url){this.options.url=e.url}if(e&&e.pageNumber){this.options.pageNumber=e.pageNumber}if(e&&e.pageSize){this.options.pageSize=e.pageSize}this.initServer(e&&e.silent,e&&e.query,e&&e.url);this.trigger("refresh",e)};k.prototype.resetWidth=function(){if(this.options.showHeader&&this.options.height){this.fitHeader()}if(this.options.showFooter&&!this.options.cardView){this.fitFooter()}};k.prototype.showColumn=function(e){this.toggleColumn(this.fieldsColumnsIndex[e],true,true)};k.prototype.hideColumn=function(e){this.toggleColumn(this.fieldsColumnsIndex[e],false,true)};k.prototype.getHiddenColumns=function(){return b.grep(this.columns,function(e){return !e.visible})};k.prototype.getVisibleColumns=function(){return b.grep(this.columns,function(e){return e.visible})};k.prototype.toggleAllColumns=function(t){var e=this;b.each(this.columns,function(v,w){e.columns[v].visible=t});this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var u=this.$toolbar.find(".keep-open input").prop("disabled",false);if(u.filter(":checked").length<=this.options.minimumCountColumns){u.filter(":checked").prop("disabled",true)}}};k.prototype.showAllColumns=function(){this.toggleAllColumns(true)};k.prototype.hideAllColumns=function(){this.toggleAllColumns(false)};k.prototype.filterBy=function(e){this.filterColumns=b.isEmptyObject(e)?{}:e;this.options.pageNumber=1;this.initSearch();this.updatePagination()};k.prototype.scrollTo=function(e){if(typeof e==="string"){e=e==="bottom"?this.$tableBody[0].scrollHeight:0}if(typeof e==="number"){this.$tableBody.scrollTop(e)}if(typeof e==="undefined"){return this.$tableBody.scrollTop()}};k.prototype.getScrollPosition=function(){return this.scrollTo()};k.prototype.selectPage=function(e){if(e>0&&e<=this.options.totalPages){this.options.pageNumber=e;this.updatePagination()}};k.prototype.prevPage=function(){if(this.options.pageNumber>1){this.options.pageNumber--;this.updatePagination()}};k.prototype.nextPage=function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}};k.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();var e=this.$toolbar.find('button[name="toggle"] i');if(this.options.cardView){e.removeClass(this.options.icons.toggleOff);e.addClass(this.options.icons.toggleOn)}else{e.removeClass(this.options.icons.toggleOn);e.addClass(this.options.icons.toggleOff)}this.initBody();this.trigger("toggle",this.options.cardView)};k.prototype.refreshOptions=function(e){if(l(this.options,e,true)){return}this.options=b.extend(this.options,e);this.trigger("refresh-options",this.options);this.destroy();this.init()};k.prototype.resetSearch=function(t){var e=this.$toolbar.find(".search input");e.val(t||"");this.onSearch({currentTarget:e})};k.prototype.expandRow_=function(t,e){var u=this.$body.find(i('> tr[data-index="%s"]',e));if(u.next().is("tr.detail-view")===(t?false:true)){u.find("> td > .detail-icon").click()}};k.prototype.expandRow=function(e){this.expandRow_(true,e)};k.prototype.collapseRow=function(e){this.expandRow_(false,e)};k.prototype.expandAllRows=function(e){if(e){var x=this.$body.find(i('> tr[data-index="%s"]',0)),y=this,v=null,w=false,t=-1;if(!x.next().is("tr.detail-view")){x.find("> td > .detail-icon").click();w=true}else{if(!x.next().next().is("tr.detail-view")){x.next().find(".detail-icon").click();w=true}}if(w){try{t=setInterval(function(){v=y.$body.find("tr.detail-view").last().find(".detail-icon");if(v.length>0){v.click()}else{clearInterval(t)}},1)}catch(A){clearInterval(t)}}}else{var z=this.$body.children();for(var u=0;u<z.length;u++){this.expandRow_(true,b(z[u]).data("index"))}}};k.prototype.collapseAllRows=function(t){if(t){this.expandRow_(false,0)}else{var e=this.$body.children();for(var u=0;u<e.length;u++){this.expandRow_(false,b(e[u]).data("index"))}}};k.prototype.updateFormatText=function(e,t){if(this.options[i("format%s",e)]){if(typeof t==="string"){this.options[i("format%s",e)]=function(){return t}}else{if(typeof t==="function"){this.options[i("format%s",e)]=t}}}this.initToolbar();this.initPagination();this.initBody()};var d=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","refreshColumnTitle","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText","updateCellById"];b.fn.bootstrapTable=function(t){var u,e=Array.prototype.slice.call(arguments,1);this.each(function(){var x=b(this),w=x.data("bootstrap.table"),v=b.extend({},k.DEFAULTS,x.data(),typeof t==="object"&&t);if(typeof t==="string"){if(b.inArray(t,d)<0){throw new Error("Unknown method: "+t)}if(!w){return}u=w[t].apply(w,e);if(t==="destroy"){x.removeData("bootstrap.table")}}if(!w){x.data("bootstrap.table",(w=new k(this,v)))}});return typeof u==="undefined"?this:u};b.fn.bootstrapTable.Constructor=k;b.fn.bootstrapTable.defaults=k.DEFAULTS;b.fn.bootstrapTable.columnDefaults=k.COLUMN_DEFAULTS;b.fn.bootstrapTable.locales=k.LOCALES;b.fn.bootstrapTable.methods=d;b.fn.bootstrapTable.utils={bootstrapVersion:a,sprintf:i,compareObjects:l,calculateObjectValue:n,getItemField:q,objectKeys:s,isIEBrowser:o};b(function(){b('[data-toggle="table"]').bootstrapTable()})})(jQuery);